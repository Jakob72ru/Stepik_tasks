# TreeBuilder

Дерево — одна из наиболее широко распространённых структур данных в информатике, эмулирующая древовидную структуру в виде набора связанных узлов.
Элементы дерева называются узлами. На рисунке выше узлами являются значения 8, 3, 1, 6, 4, 7, 10, 14 и 13. Узлы без потомков называются листьями. На рисунке выше листьями являются значения 1, 4, 7 и 13.

Реализуйте класс ```TreeBuilder```. При создании экземпляра класс не должен принимать никаких аргументов.

Экземпляр класса ```TreeBuilder``` должен являться реентерабельным контекстным менеджером, который позволяет пошагово строить древовидную структуру данных (дерево).

**Класс TreeBuilder должен иметь два метода экземпляра:**

- ```add()``` — метод, принимающий в качестве аргумента произвольный объект (лист) и добавляющий его в текущий узел дерева
- ```structure()``` — метод, возвращающий структуру дерева в виде вложенных списков

Добавление узлов в дерево должно происходить с помощью оператора ```with```. Узел считается текущим в рамках своего блока ```with```. Если в узел не было добавлено ни одного листа, то этот узел не должен появляться в структуре дерева, возвращаемой методом ```structure()```.

**Примечание 1.** Структура дерева может быть произвольной, то есть узел может содержать другой узел, тот, в свою очередь, другой, и так далее.

**Примечание 2.** Гарантируется, что структура дерева не выводится внутри блоков ```with```, то есть структура дерева выводится лишь после ее построения.

**Примечание 3.** Наглядные примеры использования класса ```TreeBuilder``` продемонстрированы в тестовых данных.

**Примечание 4.** Дополнительная проверка данных на корректность не требуется. Гарантируется, что реализованный класс используется только с корректными данными.

**Примечание 5.** Класс ```TreeBuilder``` должен удовлетворять протоколу контекстного менеджера, то есть иметь методы ```__enter__()``` и ```__exit__()```. Реализация же протокола может быть произвольной.

Тестовые данные доступны по ссылке - https://github.com/python-generation/OOP/tree/main/Module_6/Module_6.5/Module_6.5.17<br>
Ссылка на задачу на площадке - https://stepik.org/lesson/933767/step/17?unit=939666

## Решение
```
class TreeBuilder:
    def __init__(self):
        self.knots = [[]]
        
    def __enter__(self):
        self.knots.append([])
        
    def __exit__(self, *args, **kwargs):
        if self.knots[-1]:
            self.knots[-2].append(self.knots[-1])
        self.knots.pop()
    
    def add(self, value):
        self.knots[-1].append(value)
        
    def structure(self):
        return self.knots[-1]
```